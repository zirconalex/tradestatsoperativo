<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade Form - STATS. OPERATIVO - HTML to Sheets</title>
       <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
        <div class="flex items-center h-full w-full bg-orange-100" style="text-align:center" >
      <div class="w-full bg-white rounded shadow-lg p-8 m-4 md:max-w-sm md:mx-auto">
        <h1 class="block w-full text-center text-grey-darkest mb-6" style="font-size:300%"><u><b>Trade Form</b></u></h1>

        <form class="mb-4 flex flex-wrap justify-between" id="form">
  
       
          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="PAIR"><b>PAIR</b></label>
            <select name="PAIR" id="PAIR">
              <option value="usd/jpy">usd/jpy</option>
              <option value="eur/usd">eur/usd</option>
              <option value="gbp/usd">gbp/usd</option>
            
              </select>
          
          </div>
          


          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="STATUS"><b>STATUS</b></label>
            <select name="STATUS" id="STATUS">
              <option value="win">Win</option>
              <option value="loss">Loss</option>
              <option value="Breakeven">Breakeven</option>
              <option value="Missed">Missed</option>
            </select>
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="POSITION"><b>POSITION</b></label>
            <select name="POSITION" id="POSITION">
              <option value="long">long</option>
              <option value="short">short</option>
            </select>
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="TIPO DI APERTURA"><b>TIPO DI APERTURA</b></label>
            <select name="TIPO DI APERTURA" id="TIPO DI APERTURA" required>
              <option value="Manuale">Manuale</option>
              <option value="Pendente">Pendente</option>
              <option value=""></option>
          </select>
          </div>

          <div style="text-align:center">
            <label for="ORARIO CHIUSURA"><b>ORARIO APERTURA:</b></label>

           <input type="datetime-local" id="ORARIO APERTURA"
            name="ORARIO APERTURA" value="YYYY-MM-DDThh:mm">
          </div>

          <div style="text-align:center">
            <label for="ORARIO CHIUSURA"><b>ORARIO CHIUSURA:</b></label>

            <input type="datetime-local" id="ORARIO CHIUSURA"
             name="ORARIO CHIUSURA" value="YYYY-MM-DDThh:mm">
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="GIORNO DELLA SETT."><b>GIORNO DELLA SETT.</b></label>
            <select name="GIORNO DELLA SETT." id="GIORNO DELLA SETT.">
              <option value="lunedì">lunedì</option>
              <option value="martedì">martedì</option>
              <option value="mercoledì">mercoledì</option>
              <option value="giovedì">giovedì</option>
              <option value="venerdì">venerdì</option>
            </select>
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="SESSION"><b>SESSION</b></label>
            <select name="SESSION" id="SESSION">
              <option value="london">london</option>
              <option value="new york">new york</option>
              <option value="asian">asian</option>
          </select>
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="DURATA TRADE"><b>DURATA TRADE</b></label>
            <input type="text" id="DURATA TRADE" name="DURATA TRADE" style="background-color:powderblue" pattern="([0-9]+.{0,1}[0-9]*,{0,1})*[0-9]" required>
          </div>


          <div class="flex flex-col w-full mb-4 outline">
            <label class="field-label" for="SETUP"><b>SETUP</b></label>
            
          

          <div class="formbuilder-checkbox w-full mb-4">
            <input type="checkbox" name="SETUP" value="Asian Sweep">Asian Sweep<br>
            <input type="checkbox" name="SETUP" value="Order Block Mitigation">Order Block Mitigation<br>
            <input type="checkbox" name="SETUP" value="Accumulation">Accumulation<br>
            <input type="checkbox" name="SETUP" value="Distribution">Distribution<br>
            <input type="checkbox" name="SETUP" value="Re-Accumulation">Re-Accumulation<br>
            <input type="checkbox" name="SETUP" value="Re-Distribution">Re-Distribution<br>
          </div>
        </div>


          
        
          <div class="flex flex-col w-full mb-4 outline">
            <label class="field-label" for="TRENDS"><b>TRENDS</b></label>
            
          

          <div class="formbuilder-checkbox w-full mb-4">
            <input type="checkbox" name="TRENDS" value="1D🔼">1D🔼<br>
            <input type="checkbox" name="TRENDS" value="4H🔼">4H🔼<br>
            <input type="checkbox" name="TRENDS" value="1H🔼">1H🔼<br>
            <input type="checkbox" name="TRENDS" value="15 Min🔼">15 Min🔼<br>
            <input type="checkbox" name="TRENDS" value="LTF🔼">LTF🔼<br>
            <input type="checkbox" name="TRENDS" value="1D🔽">1D🔽<br>
            <input type="checkbox" name="TRENDS" value="4H🔽">4H🔽<br>
            <input type="checkbox" name="TRENDS" value="1H🔽">1H🔽<br>
            <input type="checkbox" name="TRENDS" value="15 Min🔽">15 Min🔽<br>
            <input type="checkbox" name="TRENDS" value="LTF🔽">LTF🔽<br>
          </div>
        </div>

          <div class="flex flex-col w-full mb-4 outline">
            <label class="field-label" for="CONFLUENZE"><b>CONFLUENZE</b></label>
            
          

          <div class="formbuilder-checkbox w-full mb-4">
            <input type="checkbox" name="CONFLUENZE" value="BOS">BOS<br>
            <input type="checkbox" name="CONFLUENZE" value="Price Inefficiency">Price Inefficiency<br>
            <input type="checkbox" name="CONFLUENZE" value="Liquidity Sweep">Liquidity Sweep<br>
            <input type="checkbox" name="CONFLUENZE" value="Confirmation Entry">Confirmation Entry<br>
            <input type="checkbox" name="CONFLUENZE" value="Risk Entry">Risk Entry<br>
            <input type="checkbox" name="CONFLUENZE" value="HTF Continuation">HTF Continuation<br>
            <input type="checkbox" name="CONFLUENZE" value="HTF Retracement">HTF Retracement<br>
            <input type="checkbox" name="CONFLUENZE" value="mBos">mBos<br>
            <input type="checkbox" name="CONFLUENZE" value="NOBos Weak HH/LL">NOBos Weak HH/LL<br>
            <input type="checkbox" name="CONFLUENZE" value="D2S o S2D">D2S o S2D<br>
          </div>
        </div>

        

          <div class="flex flex-col w-full mb-4" id="rmissed1">
            <label class="field-label" for="RISK %"><b>RISK %</b></label>
            <input type="text" id="RISK" name="RISK %" style="background-color:powderblue" pattern="([0-9]+.{0,1}[0-9]*,{0,1})*[0-9]" >
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="PIPS DI STOP"><b>PIPS DI STOP</b></label>
            <input type="text" id="PIPS DI STOP" name="PIPS DI STOP" style="background-color:powderblue" pattern="([0-9]+.{0,1}[0-9]*,{0,1})*[0-9]" required>
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="PIPS DI PROFIT"><b>PIPS DI PROFIT</b></label>
            <input type="text" id="PIPS DI PROFIT" name="PIPS DI PROFIT" style="background-color:powderblue" pattern="([0-9]+.{0,1}[0-9]*,{0,1})*[0-9]" >
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="Loss a TP ?"><b>Loss a TP ?</b></label>
            <select name="Loss a TP ?" id="Loss a TP ?">
              <option value="si">si</option>
              <option value="no">no</option>
              <option value=""></option>
          </select>
          </div>



          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="TP PRESO ? (CHIUSURA NON MANUALE)"><b>TP PRESO ? (CHIUSURA NON MANUALE)</b></label>
            <select name="TP PRESO ? (CHIUSURA NON MANUALE)" id="TP PRESO ? (CHIUSURA NON MANUALE)">
              <option value="si">si</option>
              <option value="no">no</option>
              <option value=""></option>
          </select>
          </div>

          


          <div class="flex flex-col w-full mb-4" id="rmissed2">
            <label class="field-label" for="R (%)"><b>R (%)</b></label>
            <input type="text" id="Ritorno" name="R (%)" style="background-color:powderblue" pattern="(^[+-]?[0-9]+.{0,1}[0-9]*,{0,1})*[0-9]" >
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="R/R SET-UP"><b>R/R SET-UP</b></label>
            <input class="bg-green-100 px-2 py-1 outline" type="text" name="R/R SET-UP" id="R/R SET-UP">
          </div>



          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="DIRECT LOSS ? / BE"><b>DIRECT LOSS ? / BE</b></label>
            <select name="DIRECT LOSS ? / BE" id="DIRECT LOSS ? / BE">
              <option value="si">si</option>
              <option value="no">no</option>
              <option value=""></option>
          </select>
          </div>


          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="TIPO DI BE"><b>TIPO DI BE</b></label>
            <select name="TIPO DI BE" id="TIPO DI BE">
              <option value="BE a Loss">BE a Loss</option>
              <option value="BE a TP">BE a TP</option>
              <option value=""></option>
          </select>
          </div>


          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="CAUSA MISSING"><b>CAUSA MISSING</b></label>
            <select name="CAUSA MISSING" id="CAUSA MISSING">
              <option value="Di pochi pips">Di pochi pips</option>
              <option value="Troppa prudenza">Troppa prudenza</option>
              <option value="Spread">Spread</option>
              <option value=""></option>
          </select>
          </div>

          



          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="R/R MAX PRIMA DELLA LOSS O BE"><b>R/R MAX PRIMA DELLA LOSS O BE</b></label>
            <input class="bg-green-100 px-2 py-1 outline" type="text" name="R/R MAX PRIMA DELLA LOSS O BE" id="R/R MAX PRIMA DELLA LOSS O BE">
          </div>


          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="Screenshot"><b>Screenshot</b></label>
            <textarea class="bg-green-100 px-2 py-1 outline" type="text" name="Screenshot" id="Screenshot"></textarea>
          </div>

          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="ANNOTAZIONE"><b>ANNOTAZIONE</b></label>
            <textarea class="bg-green-100 px-2 py-1 outline" type="text" name="ANNOTAZIONE" id="ANNOTAZIONE"></textarea>
          </div>


          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="Would I take this trade again?"><b>Would I take this trade again?</b></label>
            <select name="Would I take this trade again?" id="Would I take this trade again?">
              <option value="si">si</option>
              <option value="no">no</option>
          </select>
          </div>


          <div class="flex flex-col w-full mb-4">
            <label class="field-label" for="Did I manage this trade according to my plan?"><b>Did I manage this trade according to my plan?</b></label>
            <select name="Did I manage this trade according to my plan?" id="Did I manage this trade according to my plan?">
              <option value="si">si</option>
              <option value="no">no</option>
          </select>
          </div>








          <button class="bg-orange-300 px-3 py-1 text-white mx-auto" type="submit" id="submit">Submit</button>
        </form>
    </div>
  </div>

</body>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>

<script>

$("#STATUS").change(function() {
    if ($(this).val() == "Missed") {
        $('#rmissed1').hide();
        $('#rmissed2').hide();
				$('#RISK').removeAttr('required');
				$('#RISK').removeAttr('data-error');
                $('#Ritorno').removeAttr('required');
				$('#Ritorno').removeAttr('data-error');	
    } else {
        $('#rmissed1').show();
        $('#rmissed2').show();
        $('#RISK').attr('required','');
        $('#RISK').attr('data-error', 'This field is required.');
        $('#Ritorno').attr('required','');
        $('#Ritorno').attr('data-error', 'This field is required.');	
    }
});
$("#seeAnotherFieldGroup").trigger("change");

</script>

<script>
  const form = document.querySelector("#form")
const scriptURL = 'https://script.google.com/macros/s/AKfycbzX-ke9oA6GXo9a6UzPeR18JYSrUhPX8KDwjOq_7hx-KI5uqE94XKi5VTGcLCxsHxLQ/exec'
const btn = document.querySelector('#submit')

form.addEventListener('submit', e => {
  e.preventDefault()
  btn.disabled = true
  btn.innerHTML = "Loading..."

  const responseBody = new FormData(form)
  const TrendBody = responseBody.getAll("TRENDS").join(" ")
  responseBody.set('TRENDS', TrendBody)
  const SetupBody = responseBody.getAll("SETUP").join(" ")
  responseBody.set('SETUP', SetupBody)
  const ConflBody = responseBody.getAll("CONFLUENZE").join(" ")
  responseBody.set('CONFLUENZE', ConflBody)
  
  fetch(scriptURL, { method: 'POST', body: responseBody })
  .then(response => { 
            btn.disabled = false
    btn.innerHTML = "Submit"
          alert('Success!', response) })
      .catch(error => {
                   btn.disabled = false
    btn.innerHTML = "Submit"
          alert('Error!', error.message)})
  })
</script>
</html>